<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Wigilijne Prezentowe Losowanie</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f7f2e8;
        padding: 20px;
        color: #333;
    }
    h1 {
        text-align: center;
        color: #b30000;
    }
    .box {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        max-width: 450px;
        margin: auto;
    }
    input, button {
        width: 100%;
        padding: 12px;
        margin-top: 10px;
        font-size: 16px;
    }
    button {
        background: #b30000;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
    }
    button:hover {
        background: #cc0000;
    }
    .result {
        margin-top: 20px;
        padding: 15px;
        background: #eef6ee;
        border-radius: 8px;
    }
</style>

</head>
<body>

<h1>Wigilijne Prezentowe Losowanie 游꾻</h1>

<div class="box">
    <p>Wpisz swoje imi캧, aby pozna캖 osob캧 i kwot캧 prezentu.</p>
    
    <input id="nameInput" placeholder="Wpisz swoje imi캧 (np. Jacek)">
    <button onclick="reveal()">Poka콮 wynik</button>

    <div id="result" class="result" style="display:none;"></div>
</div>

<script>
// --- Dane sta켹e ---
const participants = ["Jacek","Danusia","Basia","Dawid","Filip","Pala"];
const amounts = [50,250,300,500,750,1000];

// --- Losowanie par Secret Santa ---
function shuffle(array) {
    let arr = [...array];
    for (let i = arr.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
}

let receivers = shuffle(participants);

// Zapobieganie parze: kto콑 sam siebie
function fixSelfAssignments() {
    for (let i = 0; i < participants.length; i++) {
        if (participants[i] === receivers[i]) {
            return false;
        }
    }
    return true;
}

// Powt칩rz losowanie a콮 b캧dzie poprawne
while (!fixSelfAssignments()) {
    receivers = shuffle(participants);
}

// --- Losowanie kwot ---
let shuffledAmounts = shuffle(amounts);

// --- Tworzenie finalnych wynik칩w ---
let assignments = {};
for (let i = 0; i < participants.length; i++) {
    assignments[participants[i]] = {
        person: receivers[i],
        amount: shuffledAmounts[i]
    };
}

// --- Funkcja obs켹uguj캔ca wej콑cie u콮ytkownika ---
function reveal() {
    let name = document.getElementById("nameInput").value.trim();

    if (!participants.includes(name)) {
        alert("To imi캧 nie znajduje si캧 na li콑cie. U콮yj: Jacek, Danusia, Basia, Dawid, Filip, Pala");
        return;
    }

    let r = assignments[name];
    
    document.getElementById("result").style.display = "block";
    document.getElementById("result").innerHTML =
        "<strong>" + name + "</strong>, Tw칩j losowany jest:<br><br>" +
        "<h2>游꾸 " + r.person + "</h2>" +
        "<p>Kwota prezentu: <strong>" + r.amount + " z켹</strong></p>";
}
</script>

</body>
</html>
